<!doctype>
<html>
	<head>
		
	</head>
	<body>

<script>

function runAsync(){
	var p = new Promise(function(resolve, reject){
        //做一些异步操作
        setTimeout(function(){
            console.log('执行完成');
            resolve('随便什么数据','2222');
        }, 2000);
    });
    return p;       
}


function runAsync1(data){
	console.log(data);
    var p = new Promise(function(resolve, reject){
        //做一些异步操作
        setTimeout(function(){
            console.log('异步任务1执行完成');
            resolve('随便什么数据1');
        }, 1000);
    });
    return p;            
}
function runAsync2(data){
	console.log(data);
    var p = new Promise(function(resolve, reject){
        //做一些异步操作
        setTimeout(function(){
            console.log('异步任务2执行完成');			
            resolve('随便什么数据2');
        }, 2000);
    });
    return p;            
}
function runAsync3(data){
	console.log(data);
    var p = new Promise(function(resolve, reject){
        //做一些异步操作
        setTimeout(function(){
            console.log('异步任务3执行完成');
			reject("抛出个异常");
            //resolve('随便什么数据3');
        }, 2000);
    });
    return p;            
}
function runAsync4(data){
	console.log(data);
    var p = new Promise(function(resolve, reject){
        //做一些异步操作
        setTimeout(function(){
            console.log('异步任务4执行完成');
            resolve('随便什么数据4');
        }, 2000);
    });
    return p;            
}

runAsync1().then(runAsync2).then(runAsync3).then(runAsync4).catch(function(reason){
    console.log('rejected');
    console.log(reason);
});;

</script>			

	</body>
</html>